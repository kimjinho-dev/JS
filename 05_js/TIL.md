# 20221027

## 동기, 비동기
동기 : 순서대로 처리한다  
요청과 처리를 순차적으로 진행한다는뜻. 

비동기 : 일이 처리되는 순서대로 처리한다  
요청을 먼저 , 처리를 한번에 진행한다.  

(+) 자바스크립트는 멀티스레드 방식이 아니므로, 비동기식으로 동시성은 가질수 있지만, 병렬성은 가질수없다.  

### 왜 비동기식으로 웹을 만들까?
각각 기능에 대해서 요청이 많을 수 있고, 적을수있다. 만약 동기식이라면 요청이 많은곳에서 처리가 멈추게 될것이다.    
하지만 비동기식으로 만들어지면 요청이 많은것은 천천히, 나머지는 바로 처리한다.  

## 콜스택

프로그램 시작시 전역함수부터 콜스택에 쌓인다. 그 이후 요청(함수)이 들어오면 순서대로 콜스택에 쌓여간다.  
stack의 형식으로 계속 쌓이고 처리할수있는 요청이라면 처리하고 삭제된다.
그리고 마지막으로 전역함수가 pop이 되고 프로그램이 종료된다.

(+) 좀더 컴퓨터 공학적으로, 위의 '함수로 쌓인다' 라는 문장보다는 '실행 컨텍스트가 쌓인다' 라는 말로 바꿀수있다.  
즉 콜스택에 쌓인것은 ' 이 함수가 실행되었다 '  라는 정보라고 할 수 있다.  
(++) 자바스크립트는 이러한 구조를 가지기때문에, 스스로 비동기식을 사용할 수 없다. 따라서 axios같은 외부의 힘을 빌리게된다.  

## web API

요청동안 web api에 담겨있다가 요청된 시간이 지나면(혹은 응답이 오면) `task Queue`에 쌓인다.  
task Queue에 담겨있다가 `콜스택이 비면`(전역함수까지 pop을 시키면) 콜스택으로 넘겨서(`이벤트 루프`) 실행시킨다.  


## XMLHttpRequeset

기존에 사용하던 비동기방식. 하지만 비동기의 단점인 출력 타이밍을 지정할 수 없다는 문제가 발생했다.  
이를 해결하기 위해서 `콜백지옥`(원하는 타이밍에 콜백함수를 실행시키기위해, 모든 순서에 따라 콜백을 호출한다)이 형성되었다.  

## Promise

이러한 콜백지옥을 해결하기위해, Promise라는 객체가 사용되었다.  
Promise는 정상적인 반환에는 정상코드를, 비정상적인 반환에는 오류코드를 작동시킨다.  
이러한 코드의 구분을 정상코드에는 then메서드, 오류코드는 catch메서드로 구분한다.  
then 메서드도 반환은 Promise객체이다.

## axios 

기존에는 Promise를 쓰기위해서 XMLHttpRequeset에 Promise 객체를 반환하는 방식으로 작성이 번거로웠다.  
이를 해결하기위해 axios를 통해서 편리하게 사용할 수 있다.
axios는 내부자체는 동기식으로 진행한다. 단, 여러 axois가 실행된다면 어느 axois가 실행되는지는 정해져있지않다. 즉 비동기식이다.   
이를 풀어쓰면 axois는 형식은 콜백함수이기때문에 무조건 webAPI에 들어가지만, 내부에서 동기식으로 원하는 요청순서대로 처리한다.
그 후 task Queue에 넘기기때문에, 어느 axois가 먼저 요청이 끝날지는 알 수없는 비동기식이다. 

## 정리
위의 순서로 비동기식 사용이 필요해진 웹코딩에서 원하는 타이밍의 요청처리를 위해서 axios를 사용하는것을 채택했다.    

## AJAX

비동기/자바스크립트/그리고/XML 의 축약어.  
다양한 형식의 파일을 주고받을 수 있으며, `비동기식으로` `페이지의 새로고침없이` 페이지를 구현하는 `방식`  
비동기식 웹구현에 따라서 이전처럼 html을 받는게아닌 json으로 받아서 domapi 내용을 수정해서 새로고침 없이 페이지가 갱신된다.